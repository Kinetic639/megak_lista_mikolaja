{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\megak_lista_miko\\u0142aja\\\\client\\\\src\\\\components\\\\AddGift\\\\AddGift.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport { Spinner } from \"../comon/Spinner/Spinner\";\nimport Snackbar from '@mui/material/Snackbar';\nimport MuiAlert from '@mui/material/Alert';\nimport Grid from '@mui/material/Grid';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Alert = /*#__PURE__*/React.forwardRef(_c = function Alert(props, ref) {\n  return /*#__PURE__*/_jsxDEV(MuiAlert, {\n    elevation: 6,\n    ref: ref,\n    variant: \"filled\",\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 12\n  }, this);\n});\n_c2 = Alert;\nexport const AddGift = () => {\n  _s();\n\n  const [form, setForm] = useState({\n    name: \"\",\n    count: 0\n  });\n  const [loading, setLoading] = useState(false);\n  const [resultInfo, setResultInfo] = useState('');\n  const [nameError, setNameError] = useState(false);\n  const [countError, setCountError] = useState(false);\n  const [open, setOpen] = React.useState(false);\n\n  const handleClick = () => {\n    setOpen(true);\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  const updateForm = (key, value) => {\n    setForm(form => ({ ...form,\n      [key]: value\n    }));\n  };\n\n  const sendForm = async e => {\n    e.preventDefault();\n    setNameError(false);\n    setCountError(false);\n\n    if (!form.name || form.name.length < 3 || form.name.length > 55) {\n      setNameError(true);\n    } else if (!form.count || form.count < 1 || form.count > 999999) {\n      setCountError(true);\n    } else {\n      setLoading(true);\n      const res = await fetch(`http://localhost:3001/gifts`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(form)\n      });\n      const data = await res.json();\n      setLoading(false);\n      setResultInfo(`Gift ${data.name} as been added.`);\n      handleClick();\n    }\n  };\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    noValidate: true,\n    autoComplete: \"off\",\n    onSubmit: sendForm,\n    children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n      anchorOrigin: {\n        vertical: 'top',\n        horizontal: 'center'\n      },\n      open: open,\n      autoHideDuration: 3000,\n      onClose: handleClose,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleClose,\n        severity: \"success\",\n        sx: {\n          width: '100%'\n        },\n        children: resultInfo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      sx: {\n        maxWidth: '500px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 5,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          value: form.name,\n          label: \"Add Gift\",\n          variant: \"outlined\",\n          color: \"primary\",\n          required: true,\n          error: nameError,\n          onChange: e => updateForm('name', e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 4,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          value: form.count,\n          label: \"Count\",\n          type: \"number\",\n          variant: \"outlined\",\n          required: true,\n          color: \"primary\",\n          error: countError,\n          onChange: e => updateForm('count', e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 3,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          color: \"primary\",\n          variant: \"contained\",\n          children: \"Add Gift\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 12\n  }, this);\n};\n\n_s(AddGift, \"+V1rBTjJuq9tB+JJWSCy2QDmv0g=\");\n\n_c3 = AddGift;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Alert$React.forwardRef\");\n$RefreshReg$(_c2, \"Alert\");\n$RefreshReg$(_c3, \"AddGift\");","map":{"version":3,"names":["React","useState","TextField","Button","Spinner","Snackbar","MuiAlert","Grid","Alert","forwardRef","props","ref","AddGift","form","setForm","name","count","loading","setLoading","resultInfo","setResultInfo","nameError","setNameError","countError","setCountError","open","setOpen","handleClick","handleClose","event","reason","updateForm","key","value","sendForm","e","preventDefault","length","res","fetch","method","headers","body","JSON","stringify","data","json","vertical","horizontal","width","maxWidth","target"],"sources":["D:/projects/megak_lista_miko≈Çaja/client/src/components/AddGift/AddGift.tsx"],"sourcesContent":["import React, {FormEvent, useState} from 'react';\r\nimport {CreateGiftReq, GiftEntity} from \"types\";\r\nimport TextField from '@mui/material/TextField';\r\nimport Button from '@mui/material/Button';\r\nimport {Spinner} from \"../comon/Spinner/Spinner\";\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport MuiAlert, {AlertProps} from '@mui/material/Alert';\r\nimport Grid from '@mui/material/Grid';\r\n\r\nconst Alert = React.forwardRef<HTMLDivElement, AlertProps>(function Alert(\r\n    props,\r\n    ref,\r\n) {\r\n    return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\nexport const AddGift = () => {\r\n    const [form, setForm] = useState<CreateGiftReq>({\r\n        name: \"\",\r\n        count: 0\r\n    })\r\n\r\n    const [loading, setLoading] = useState<boolean>(false)\r\n    const [resultInfo, setResultInfo] = useState('')\r\n    const [nameError, setNameError] = useState<boolean>(false)\r\n    const [countError, setCountError] = useState<boolean>(false)\r\n\r\n\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleClick = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = (event?: React.SyntheticEvent | Event, reason?: string) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n\r\n        setOpen(false);\r\n    };\r\n\r\n    const updateForm = (key: string, value: any) => {\r\n        setForm(form => ({\r\n            ...form,\r\n            [key]: value,\r\n        }))\r\n    }\r\n\r\n\r\n    const sendForm = async (e: FormEvent) => {\r\n        e.preventDefault()\r\n        setNameError(false)\r\n        setCountError(false)\r\n\r\n        if (!form.name || form.name.length < 3 || form.name.length > 55) {\r\n            setNameError(true)\r\n        } else if (!form.count || form.count < 1 || form.count > 999999) {\r\n            setCountError(true)\r\n        } else {\r\n            setLoading(true)\r\n\r\n            const res = await fetch(`http://localhost:3001/gifts`, {\r\n                method: 'POST',\r\n                headers: {'Content-Type': 'application/json'},\r\n                body: JSON.stringify(form)\r\n            })\r\n            const data: GiftEntity = await res.json()\r\n            setLoading(false)\r\n            setResultInfo(`Gift ${data.name} as been added.`)\r\n            handleClick()\r\n        }\r\n\r\n\r\n    }\r\n\r\n    if (loading) {\r\n        return <Spinner/>\r\n    }\r\n\r\n\r\n    return <form noValidate autoComplete=\"off\" onSubmit={sendForm}>\r\n        <Snackbar\r\n            anchorOrigin={{vertical: 'top', horizontal: 'center'}} open={open} autoHideDuration={3000}\r\n            onClose={handleClose}>\r\n            <Alert onClose={handleClose} severity=\"success\" sx={{width: '100%'}}>\r\n                {resultInfo}\r\n            </Alert>\r\n        </Snackbar>\r\n        <Grid container spacing={2} sx={{maxWidth: '500px'}}>\r\n            <Grid item xs={5}>\r\n                <TextField\r\n                    value={form.name}\r\n                    label=\"Add Gift\"\r\n                    variant='outlined'\r\n                    color='primary'\r\n                    required\r\n                    error={nameError}\r\n                    onChange={e => updateForm('name', e.target.value)}/>\r\n            </Grid>\r\n            <Grid item xs={4}>\r\n                <TextField\r\n                    value={form.count}\r\n                    label=\"Count\"\r\n                    type=\"number\"\r\n                    variant='outlined'\r\n                    required\r\n                    color='primary'\r\n                    error={countError}\r\n                    onChange={e => updateForm('count', e.target.value)}/>\r\n            </Grid>\r\n            <Grid item xs={3}>\r\n                <Button type=\"submit\" color=\"primary\" variant='contained'>Add Gift</Button>\r\n            </Grid>\r\n\r\n        </Grid>\r\n\r\n    </form>\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}